services:
    db: #serviço do banco de dados mysql
      image: mysql:latest #imagem do mysql
      command: mysqld --default-authentication-plugin=mysql_native_password #comando para inicializar o mysql no container
      volumes: #definir os volumes
        - ./db_data:/var/lib/mysql
      environment: #variáveis de ambiente
        TZ: America/Sao_Paulo #timezone
        MYSQL_ROOT_PASSWORD: root #senha do root
        MYSQL_USER: amadeu #usuário
        MYSQL_PASSWORD: amadeu #senha
        MYSQL_DATABASE: wordpress #banco de dados
      ports:
        - 3308:3306 #portas que vão ser expostas
    wordpress: #serviço do wordpress
      image: wordpress:latest #imagem do mysql
      volumes: #definir os volumes
        - ./wp_data:/var/www/html
      environment: #variáveis de ambiente
        TZ: America/Sao_Paulo #timezone
        WORDPRESS_DB_HOST: db #url do banco de dados para linkar o wordpress ao db
        WORDPRESS_DB_NAME: wordpress #nome do banco
        WORDPRESS_DB_USER: root #nome do root do mysql
        WORDPRESS_DB_PASSWORD: root #senha do root do mysql definida no serviço db
      ports:
        - 80:80 #portas onde o wordpress é exposto
      depends_on:
        - db #depende do funcionamento do db